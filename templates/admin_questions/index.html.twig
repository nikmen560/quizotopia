{% extends 'admin_base.twig' %}

{% block title %}Questions manager{% endblock %}


{% block navigation %}

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{{ path('mainpage') }}">Admin Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ path('admin_users') }}">Users control</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="{{ path('admin_quizes') }}">Quizzes control</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="{{ path('admin_questions') }}">Questions control</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Create
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="{{ path('initial_create_question') }}">Create Question</a>
                        <a class="dropdown-item" href="{{ path('create_quiz') }}">Create Quiz</a>
                    </div>
                </li>
            </ul>
            <a class="nav-link btn btn-outline-info" href="{{ path('app_logout') }}">logout</a>
        </div>
    </nav>
{% endblock %}
{% block content %}
<div class="container-fluid mt-4 mb-4 ">
            <table class="table table-striped table-bordered" id="table-questions">
                <thead>
                <tr>
                    <th>id</th>
                    <th>question</th>
                    <th>answers</th>
                    <th>actions</th>
                </tr>
                </thead>

                <tbody>
                {% if questions %}
                    {% for question in questions %}
                        <tr>
                            <td scope="col">{{ question.id }}</td>
                            <td>{{ question.content }}</td>
                            <td>
                        {% for answer in answers %}


                            {% if(answer.questionid.id==question.id) %}
                            <div{% if(answer.istrue) %} class="table-success"{% else %} class="table-danger"{% endif%} >{{  answer.content }}</div>
                            {% endif %}
                        {% endfor %}
                            </td>
                            <td>
                                <a class="btn btn-black" value="{{ question.id }}" href="#">Edit</a>
                                <a class="btn btn-danger" value="{{ question.id }}" href="{{ path('delete_question', {"id": question.id})  }};">Delete</a>
                            </td>
                        </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>

</div>
    <script>
        $(document).ready(function () {
            $('#table-questions').DataTable();
        });
    </script>
{% endblock %}








