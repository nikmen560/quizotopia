{% extends 'admin_base.twig' %}


{% block title %}Quizzes manager{% endblock %}

{% block navigation %}
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="{{ path('mainpage') }}">Admin Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ path('admin_users') }}">Users control</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link active" href="{{ path('admin_quizes') }}">Quizzes control</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ path('admin_questions') }}">Questions control</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Create
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="{{ path('initial_create_question') }}">Create Question</a>
                    <a class="dropdown-item" href="{{ path('create_quiz') }}">Create Quiz</a>
                </div>
            </li>
        </ul>
        <a class="nav-link btn btn-outline-info" href="{{ path('app_logout') }}">logout</a>
    </div>
    </nav>
{% endblock %}

{% block content %}
    <div class="container mt-4 mb-4">
        <div class="row">
            {% if quizzes %}

                {% for quiz in quizzes %}
                    <div class="col-sm-4 mb-4">
                        <div class="card card-cascade wider">

                            <div class="view view-cascade gradient-card-header blue-gradient p-4">
                                <h2 class="card-header-title text-center text-white mt-4 mb-3">{{ quiz.name }}</h2>
                            </div>

                            <div class="card-body card-body-cascade text-center">

                                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus, ex minis
                                    recusandae. Facere modi sunt, quod quibusdam dignissimos neque rem nihil ratione est placeat vel, natus
                                    non quos laudantium veritatis sequi.Ut enim ad minima veniam, quis nostrum.</p>
                                {% if quiz.status %}
                                <a class="btn btn-unique" value="{{ quiz.id }}"
                                href="{{ path('block_quiz', {'id': quiz.id}) }}">Block</a>
                                {% else %}
                                <div>blocked</div>
                                    <a class="btn btn-unique" value="{{ quiz.id }}"
                                       href="{{ path('unblock_quiz', {'id': quiz.id}) }}">Unblock</a>
                                {% endif %}
                                <a class="btn btn-danger" value="{{ quiz.id }}"
                                   href="{{ path('delete_quiz', {"id": quiz.id}) }}">Delete</a>

                            </div>
                            <div class="card-footer text-muted text-center mt-4">
                                {{ quiz.createdAt|date('d-m-Y') }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% block js %}
        <script>
            $(document).ready(function () {
                $('#usertable').DataTable();
            });
        </script>
    {% endblock %}

{% endblock %}




